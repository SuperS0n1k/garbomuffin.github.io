<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/core.css">
    <title>Nightlight in JS</title>

    <style>
      canvas {
        display: block;
        border: 1px black solid;
      }
      #progress {
        width: 480px;
      }
    </style>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-77118590-7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-77118590-7');
    </script>
  </head>

  <body>
    <h1>Nightlight in JS</h1>

    <p><a href="https://scratch.mit.edu/projects/150752251/">Play the original</a> by <a href="https://scratch.mit.edu/users/TriforceMayhem/">TriforceMayhem</a>. Assets are used with permission.</p>

    <progress id="progress" value="0"></progress>

    <!-- the <canvas>(s) are put into this div here -->
    <!-- they are injected by code, no more need to manually add them anymore -->
    <div id="container"></div>

    <div><label>Volume: <input type="range" min="0" max="100" id="volume"></label><span id="volume-level"></span></div>
    
    <button onclick="runtime.level++;runtime.renderLevel();" disabled>Next Level</button>
    <button onclick="runtime.level--;runtime.renderLevel();" disabled>Prev Level</button>
    <button onclick="runtime.renderLevel();" disabled>Reset Level</button>
    <button onclick="runtime.player.kill();" disabled>Death</button>
    <button onclick="runtime.addTask(function(){runtime.exit()});" disabled>Stop (refresh to restart)</button>

    <pre>
      <b>Changelog:</b>
      v0.1.0.1:
       * Make Reilly triggered.

      v0.1:
       * fixed being able to do up to 3 hits in one cycle on the second boss
       * really, I just want to be done with this.

      v0.0.999.2:
       * Volume slider won't crash the game and doesn't start out on 0.5%.
       * Even Reilly should be able to beat the second boss now.
        * YOU HAVE AN ENTIRE FIVE SECONDS TO HIT THE THING NOW I THINK YOU CAN DO IT
       * Fixed some delays during the second boss.

      v0.0.999.1:
       * Added just about all sounds
       * Boss paterns are just about perfect

      v0.0.999.0:
       * Added the last boss (ignore incorrect background with this link)

      v0.0.9.5:
       * Things that are scaled will still look pixelated (see the sword boss)
       * Added debug tools (accessable by checkboxes)
       * Volume slider that starts at 50%

      v0.0.9.4: The Optimization Update
       * Rendering optimized
        * Performance gains of nearly 2x in some cases
        * The hardest level to render (#4) now runs at 60 fps on a chromebook
       * Collision optimized
        * Death pieces can now in some cases have almost no performance impact
       * Fixed some bugs from the previous version

      v0.0.9.3:
       * Added FPS counter (<a href="https://github.com/mrdoob/stats.js/">stats.js</a>)
       * Noss bullets don't render rotated
       * 100 background stars instead of 50
       * Light block toggle switches now show up again when you hit another one
       * You now won't ever float when skipping around levels
       * Stop button stops audio
       * Other bug fixes

      v0.0.9.2:
       * Second boss's bullets actually glide to the center
       * Second boss has hit effects
       * Hit effects improved
       * Pressing stop stops audio
       * Boss coins are centered properly
       * Other minor garbage

      v0.0.9.1:
       * Second boss nearly done

      v0.0.9:
       * Sword boss runs almost perfectly on a chromebook
       * Sword boss becomes vulnerable at the right time
       * Second boss very early implementation

      Pre v0.0.9:
       * no one knows
    </pre>

    <p><a href="https://github.com/GarboMuffin/garbomuffin.github.io/tree/master/nightlight">Source code</a></p>

    <script src="/3rd-party/stats.js"></script>
    <script src="dist/bundle.js"></script>
  </body>
</html>
