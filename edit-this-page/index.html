<!DOCTYPE html>
<html>
  <head>
    <title>Edit This Page</title>
    <link rel="stylesheet" href="/core.css">

    <style>
      #dont-click-message {
        display: none;
      }

      #installation-congrats {
        position: absolute;

        text-align: center;
        top: 0;
        left: 0;

        width: 100%;
        height: 100%;

        background-color: black;
        color: white;
        opacity: 0.9;

        display: none;
      }
    </style>
  </head>

  <body>
    <h1>Edit This Page (v0.7)</h1>
    <hr>
    <p>A simple bookmark that lets you edit the text of any website!</p>
    <p>A continuation of a chrome extension that was removed from the chrome web store.</p>
    <p>This is really a dumbed down version of <a href="https://goggles.mozilla.org/">X-Ray Goggles by Mozilla</a>.</p>

    <h2>Installation</h2>
    <p>
      <b>
        Drag the following link onto your bookmarks bar:
        <a onclick="return showDontClickMessage();" id="install-button">Edit This Page</a>
      </b>
    </p>
    <p id="dont-click-message"><b>Don't click on it, drag it onto your bookmarks bar!</b></p>
    <p>You may have to enable your bookmarks bar, that depend son the browser. It's in the settings somewhere.</p>
    <p>For Chrome press Ctrl+Shift+B.</p>

    <h2>Usage</h2>
    <p>
      After installation simply click on the bookmark to edit the page.
    </p>
    <p>
      Each time you run it it will toggle between editable and not editable allowing you to make things seem legit.
    </p>

    <h2>Changelog</h2>
    <h3>v0.7</h3>
    <ul>
      <li>Updated bookmark and updater</li>
    </ul>
    <h3>v0.6</h3>
    <ul>
      <li>Pressing keys no longer triggers other actions (like fullscreen on YouTube)</li>
    </ul>
    <h3>v0.5</h3>
    <ul>
      <li><code>&lt;iframe&gt;</code> support</li>
    </ul>
    <h3>v0.4</h3>
    <ul>
      <li>Support for sites that block loading off site scripts (eg. github)</li>
    </ul>
    <h3>v0.2</h3>
    <ul>
      <li>Toggle editable/uneditable.</li>
    </ul>

    <div id="installation-congrats">
      <h1>Success!</h1>
      <p>Edit This Page is installed correctly and is working. It's really that easy.</p>
      <p>Try editing this text.</p>
      <p>(you won't see this message on other sites, only this one)</p>
      <button onclick="hideInstallMessage();">Hide This Message</button>
    </div>

    <script src="bookmarklet.js"></script>
    <script>
      // Remind the user to DRAG THE THING TO YOUR BOOKMARKS BAR and not click it
      function showDontClickMessage() {
        var el = document.getElementById("dont-click-message");
        if (el.style.display === "") {
          el.style.display = "inline";
        } else {
          var fontSize = window.getComputedStyle(el).fontSize.match(/\d*/)[0];
          var fontSizeNumber = Number(fontSize);
          el.style.fontSize = (fontSizeNumber * 1.1) + "px";
        }
        return false;
      }

      function hideInstallMessage() {
        document.getElementById("installation-congrats").style.display = "none";
      }

      var installCheckInterval = setInterval(function () {
        if (window.__editThisPageAlreadyLoaded) {
          document.getElementById("installation-congrats").style.display = "block";
          clearInterval(installCheckInterval);
        }
      }, 100);
    </script>
  </body>
</html>
