<!DOCTYPE html>
<html>
  <head>

  </head>
  <body>
    <textarea id="in"></textarea>
    <textarea readonly id="out"></textarea>
    <button onclick="ok();">ok</button>
    <script>
      function ok() {
        var input = document.getElementById("in").value;
        var lines = input.split("\n");
        var groups = [];
        var c = "";
        for (var i of lines) {
          c += i + "\n";
          if (i === "") {
            groups.push(c);
            c = "";
          }
        }
        groups.sort((a, b) => {
          function r(s) {
            return s.replace("The ", "").replace("A ", "").replace("“", "\"").replace("”", "\"");
          }
          a = r(a).toLowerCase();
          b = r(b).toLowerCase();
          return a.localeCompare(b);
        });
        document.getElementById("out").value = groups.join("");
        console.log(groups);
      }
    </script>
  </body>
</html>
